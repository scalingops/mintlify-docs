---
title: 'Secure Credential Handoff'
description: 'How MSPortal.ai protects credentials during client onboarding with AES-256 encryption, one-time reveal, and automatic deletion'
icon: 'shield-halved'
---

## Overview

During onboarding, clients often need to share sensitive credentials — admin passwords, API keys, or service account logins. MSPortal.ai provides a purpose-built secure credential handoff that ensures these credentials are protected at every stage with the same encryption standards used by banks and government agencies.

<Note>
Credentials submitted through the onboarding portal are encrypted with **AES-256-GCM** — the same encryption standard used by the U.S. government for classified information. Your clients' credentials are never stored in plaintext.
</Note>

## How It Works

<Steps>
  <Step title="Client Submits Credentials">
    Your client fills in their credentials (username, password, API key, or notes) through the secure onboarding portal. A confirmation dialog reminds them that credentials cannot be edited after submission.
  </Step>
  <Step title="Instant Encryption">
    The moment credentials are submitted, they are encrypted using AES-256-GCM with a unique, randomly generated encryption key. The encrypted data and the encryption key are stored in completely separate, isolated systems.
  </Step>
  <Step title="You Reveal Once">
    When you're ready, click **Reveal Credentials** in the admin dashboard. You'll see a confirmation dialog explaining this is a one-time action. After confirming, the decrypted credentials are displayed for you to copy.
  </Step>
  <Step title="Automatic Permanent Deletion">
    Immediately after you reveal the credentials, both the encrypted data and the encryption key are **permanently deleted** from all systems. There is no way to recover them — they exist only in that single viewing session.
  </Step>
</Steps>

## Security Architecture

### Six Layers of Protection

<CardGroup cols={2}>
  <Card title="AES-256-GCM Encryption" icon="lock">
    Every credential set is encrypted with a unique, randomly generated 256-bit key using Galois/Counter Mode, which provides both confidentiality and tamper detection.
  </Card>
  <Card title="Key Separation" icon="key">
    The encryption key is stored in an isolated hardware-backed vault, completely separate from the encrypted data. Compromising one system alone reveals nothing.
  </Card>
  <Card title="One-Time Reveal" icon="eye">
    Credentials can only be viewed exactly once. After reveal, both the encrypted data and the encryption key are permanently wiped from all storage.
  </Card>
  <Card title="30-Day Expiration" icon="clock">
    If credentials are not revealed within 30 days of submission, they are automatically and permanently deleted. Clients can resubmit if needed.
  </Card>
  <Card title="Column-Level Access Control" icon="table-columns">
    Even authenticated database users cannot access encrypted credential columns. Only the reveal action, using a privileged service role, can decrypt credentials.
  </Card>
  <Card title="Full Audit Trail" icon="clipboard-list">
    Every credential submission and reveal is logged with timestamps, user identity, and IP address for complete accountability and compliance.
  </Card>
</CardGroup>

### What Gets Logged

Every interaction with credentials is recorded for your compliance and security auditing needs:

| Event | Details Captured |
|-------|-----------------|
| **Credential Submitted** | Timestamp, submitter email, submitter IP address |
| **Credential Revealed** | Timestamp, revealing user, revealing IP address |
| **Credential Expired** | Timestamp, automatic expiration after 30 days |

## For Your Clients

### What Clients See

When your client encounters a credential handoff task in their onboarding portal:

1. They see a secure form with fields for **username**, **password**, **API key**, and **notes**
2. Password fields are masked by default with a show/hide toggle
3. Before submission, a confirmation dialog explains that credentials cannot be edited afterward
4. After submission, a green success badge confirms the handoff with a timestamp

### What to Tell Your Clients

<Tip>
Share this with your clients to build trust during onboarding:

*"Your credentials are encrypted the instant you submit them using military-grade AES-256 encryption. The encryption key is stored in an isolated vault, separate from the encrypted data. When our team is ready to use your credentials, we can view them exactly once — after which they are permanently and irrecoverably deleted from all systems. Credentials automatically expire after 30 days if unused."*
</Tip>

## For MSP Admins

### Revealing Credentials

<Steps>
  <Step title="Navigate to the Onboarding">
    Go to the company's page and click the **Onboarding** tab. Open the relevant onboarding portal.
  </Step>
  <Step title="Find the Credential Task">
    Locate the credential handoff task. It will show a **Pending Reveal** badge if the client has submitted credentials.
  </Step>
  <Step title="Click Reveal Credentials">
    Click the **Reveal Credentials** button. Read the confirmation dialog carefully — this action cannot be undone.
  </Step>
  <Step title="Copy and Store Securely">
    The decrypted credentials are displayed with copy buttons for each field. Password and API key fields are masked by default — click the eye icon to reveal them. **Copy what you need immediately.**
  </Step>
</Steps>

<Warning>
After revealing credentials, they are **permanently deleted** from MSPortal.ai. You will not be able to view them again. Make sure you copy and securely store them in your password manager or documentation system before closing the dialog.
</Warning>

### Credential Status Reference

| Status | Meaning |
|--------|---------|
| **Awaiting Submission** | Client has not yet submitted credentials for this task |
| **Pending Reveal** | Client has submitted credentials; waiting for you to reveal them |
| **Revealed** | Credentials have been revealed and permanently deleted from storage |
| **Expired** | Credentials were not revealed within 30 days and have been automatically deleted |

### Auto-Hide Timer

After revealing credentials, they are displayed on screen for a maximum of **5 minutes** before being automatically hidden from the interface. This prevents accidental exposure if you step away from your screen.

## Frequently Asked Questions

<AccordionGroup>
  <Accordion title="Can I reveal credentials more than once?">
    No. Credentials can only be revealed exactly once. After the reveal, both the encrypted data and the encryption key are permanently deleted. This is a core security feature — it minimizes the window of exposure. If you need the credentials again, ask your client to resubmit them through a new credential handoff task.
  </Accordion>

  <Accordion title="What happens if credentials expire before I reveal them?">
    If 30 days pass without a reveal, the credentials are automatically and permanently deleted. The task will show an **Expired** status. You'll need to create a new credential handoff task and ask your client to resubmit.
  </Accordion>

  <Accordion title="Can my client edit credentials after submitting?">
    No. Once submitted, credentials are immediately encrypted and locked. If your client made a mistake, they'll need to notify you, and you can create a new credential handoff task for them to resubmit.
  </Accordion>

  <Accordion title="Where are the encryption keys stored?">
    Encryption keys are stored in an isolated, hardware-backed vault (Supabase Vault, powered by libsodium). The vault is completely separate from the database that stores encrypted data. This means even a full database breach would not expose credentials — the attacker would also need to compromise the vault.
  </Accordion>

  <Accordion title="Is the credential data included in backups?">
    Encrypted credential data may exist in database backups, but without the corresponding encryption key from the vault, this data is computationally impossible to decrypt. After a reveal, even the encrypted data is deleted, so it won't appear in future backups.
  </Accordion>

  <Accordion title="What encryption algorithm is used?">
    AES-256-GCM (Advanced Encryption Standard with 256-bit keys in Galois/Counter Mode). This provides authenticated encryption, meaning it protects both the confidentiality and integrity of the data. Any tampering with the encrypted data will be detected during decryption.
  </Accordion>

  <Accordion title="Is this compliant with security frameworks?">
    The credential handoff system uses encryption standards that meet or exceed the requirements of SOC 2, HIPAA, NIST 800-171, and CMMC Level 2. The one-time reveal with automatic deletion goes beyond what most frameworks require for credential handling.
  </Accordion>
</AccordionGroup>

## Security Summary

| Security Measure | Implementation |
|-----------------|---------------|
| **Encryption Standard** | AES-256-GCM (NIST-approved) |
| **Key Length** | 256-bit (randomly generated per credential) |
| **Key Storage** | Isolated hardware-backed vault (libsodium) |
| **Data Separation** | Encrypted data and keys stored in separate systems |
| **Access Model** | One-time reveal with permanent deletion |
| **Expiration** | Automatic 30-day TTL |
| **Audit Logging** | Full trail with timestamps, user identity, IP addresses |
| **Transport Security** | TLS 1.3 in transit |
| **Access Control** | Column-level database restrictions + permission-gated reveal |
